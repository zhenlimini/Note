## Heats迁移存储操作汇总

- #### 目录、文件结构

  - 目录结构是否可以保持与现有完全一致

  - 支持空目录？目录重命名？

  - 是否支持大小写不一致？目前允许大小写不一致的目录

  - 目录命名有什么限制？支持中文或者特殊字符？

  - /mnt /prod

    

- #### 软链接

  - 需要评估是否支持类似快捷方式的软链接？
  - /prod -> /mnt/disk1/disk3/prod
  - /prod/ftrpt/mtd -> /mnt/disk3/mtd
  - /prod/ftrpt/otn -> /mnt/disk2/mtd

  

- #### 账户/文件权限

  - Linux文件系统有精细的`rwx`权限（用户/组/其他）（原Linux系统使用本地UID/GID映射），对象存储在**目录/文件级别**的权限控制上可能不如Linux灵活，需要评估现有结构的权限需求是否能被满足
  - 读写 cimengr sysengr techengr...
  - 只读 TechUser

  

- #### 账户默认目录

  - 每个账户都有一个默认目录 登录后显示的默认路径并不相同 需要评估是否支持

  - cimengr /mnt/disk1/disk3/prod/cimengr

    

- #### NTP

  - Tester/rdbi机台开批需要通过ntp校准机台时间 校准服务器目前为szheats
  - /usr/sbin/ntpdate 172.23.4.52

  

- #### 各类代码FTP适配性

  - 验证当前代码中使用的FTP类库的所有操作都支持
  - C语言：Shell Socket
  - C#：FTPClassLibraries FluentFTP

  

- #### FTP相关指令操作适配性

  - 旧的使用vsftpd作为FTP服务端软件，需要评估迁移后的服务器是否还支持相关的操作，例如除了基础的`PUT/GET`，还需要评估其他`MLSD`、`SITE CHMOD`、`REST`等命令；主动、被动模式；
  - 对于文件存在覆盖的场景是否有差异

  

- #### 文件备份清理策略

  - 现有服务器通过定时任务+脚本来定时清理文件

  

- #### 磁盘大小监控

  - 现有服务器通过定时任务+splunk来监控磁盘剩余空间情况

    

- #### 性能差异

  - FTP上传下载速率等方面是否有明显差异（大量小文件与超大文件场景）

  - FTP并发连接用户数量是否有限制

    

- #### 故障排查

  - 是否有每次FTP操作的日志？（用户名、IP、文件路径等）
  - 原系统可ssh登录排查，分布式存储是否提供等价手段（如控制台、API）？

  

- #### 其他关联部门

  - TED/SI等部门需要评估对于他们的影响点

