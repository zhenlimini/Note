## Heats迁移存储操作汇总

| 类别                      | 具体问题/事项                                       | 说明/示例                                                    |
| ------------------------- | --------------------------------------------------- | ------------------------------------------------------------ |
| **目录、文件结构**        | 目录结构是否可以保持与现有完全一致                  |                                                              |
|                           | 支持空目录？目录重命名？                            |                                                              |
|                           | 是否支持大小写不一致？目前允许大小写不一致的目录    |                                                              |
|                           | 目录命名有什么限制？支持中文或者特殊字符？          |                                                              |
|                           | 示例目录                                            | `/mnt /prod`                                                 |
| **软链接**                | 需要评估是否支持类似快捷方式的软链接？              |                                                              |
|                           | 示例软链接                                          | `/prod -> /mnt/disk1/disk3/prod`<br>`/prod/ftrpt/mtd -> /mnt/disk3/mtd`<br>`/prod/ftrpt/otn -> /mnt/disk2/mtd` |
| **账户/文件权限**         | 文件系统权限控制是否满足需求                        | 原Linux系统使用本地UID/GID映射，对象存储可能在目录/文件级别的权限控制上不如Linux灵活 |
|                           | 读写权限账户                                        | `cimengr` `sysengr` `techengr`等                             |
|                           | 只读权限账户                                        | `TechUser`                                                   |
| **账户默认目录**          | 每个账户的默认目录是否支持                          | 登录后显示的默认路径不同                                     |
|                           | 示例账户默认目录                                    | `cimengr /mnt/disk1/disk3/prod/cimengr`                      |
| **NTP**                   | Tester/rdbi机台需要通过ntp校准时间                  | 校准服务器目前为`szheats`                                    |
|                           | 示例命令                                            | `/usr/sbin/ntpdate 172.23.4.52`                              |
| **各类代码FTP适配性**     | 验证当前代码中使用的FTP类库的所有操作是否支持       |                                                              |
|                           | C语言                                               | Shell Socket                                                 |
|                           | C#                                                  | FTPClassLibraries FluentFTP                                  |
| **FTP相关指令操作适配性** | 迁移后是否支持相关FTP操作                           | 除基础`PUT/GET`外，还需评估`MLSD`、`SITE CHMOD`、`REST`等命令；主动、被动模式 |
|                           | 文件存在覆盖的场景是否有差异                        |                                                              |
| **文件备份清理策略**      | 现有服务器通过定时任务+脚本清理文件                 |                                                              |
| **磁盘大小监控**          | 现有服务器通过定时任务+Splunk监控磁盘剩余空间       |                                                              |
| **性能差异**              | FTP上传下载速率是否有明显差异                       | 大量小文件与超大文件场景                                     |
|                           | FTP并发连接用户数量是否有限制                       |                                                              |
| **故障排查**              | 是否有每次FTP操作的日志？（用户名、IP、文件路径等） |                                                              |
|                           | 分布式存储是否提供等价排查手段？                    | 原系统可SSH登录排查，分布式存储是否提供控制台、API等         |
| **其他关联部门**          | TED/SI等部门需要评估对于他们的影响点                |                                                              |

