# FTP 存储性能对比测试报告

## 测试概述

- **并发设置**: 5 个并发用户，每个用户执行 3 次操作
- **测试对象**: 旧存储（本地磁盘） 新存储（NFS 挂载）
- **测试类型**: 上传、下载、混合操作、大文件传输、连接稳定性

------

## 详细测试结果

### 旧存储（本地磁盘）性能

| 测试类型   | 成功率 | 平均延迟 | 平均速度  |
| ---------- | ------ | -------- | --------- |
| 上传       | 100.0% | 37ms     | 348.1MB/s |
| 下载       | 100.0% | 68ms     | 209.7MB/s |
| 混合操作   | 100.0% | 29ms     | 300.9MB/s |
| 大文件传输 | 100.0% | 126ms    | 825.8MB/s |
| 连接稳定性 | 100.0% | 19ms     | 75.7MB/s  |

### 新存储（NFS 挂载）性能

| 测试类型   | 成功率 | 平均延迟 | 平均速度  |
| ---------- | ------ | -------- | --------- |
| 上传       | 100.0% | 105ms    | 97.8MB/s  |
| 下载       | 100.0% | 120ms    | 89.9MB/s  |
| 混合操作   | 100.0% | 76ms     | 116.1MB/s |
| 大文件传输 | 100.0% | 219ms    | 480.7MB/s |
| 连接稳定性 | 100.0% | 35ms     | 32.7MB/s  |

------

## 性能对比分析

### 上传测试

| 指标       | 旧存储     | 新存储    | 差异值/百分比        | 趋势 |
| ---------- | ---------- | --------- | -------------------- | ---- |
| 成功率     | 100.00%    | 100.00%   | 0% (无变化)          | →    |
| 平均延迟   | 36.53ms    | 105.47ms  | +68.93ms (+188.69%)  | ↓    |
| 平均速度   | 348.06MB/s | 97.79MB/s | -250.26MB/s (-71.9%) | ↓    |
| 成功操作数 | 15         | 15        | 0 (无变化)           | →    |

### 下载测试

| 指标       | 旧存储     | 新存储    | 差异值/百分比         | 趋势 |
| ---------- | ---------- | --------- | --------------------- | ---- |
| 成功率     | 100.00%    | 100.00%   | 0% (无变化)           | →    |
| 平均延迟   | 68.47ms    | 119.67ms  | +51.2ms (+74.78%)     | ↓    |
| 平均速度   | 209.74MB/s | 89.93MB/s | -119.81MB/s (-57.12%) | ↓    |
| 成功操作数 | 15         | 15        | 0 (无变化)            | →    |

### 混合操作测试

| 指标       | 旧存储     | 新存储     | 差异值/百分比        | 趋势 |
| ---------- | ---------- | ---------- | -------------------- | ---- |
| 成功率     | 100.00%    | 100.00%    | 0% (无变化)          | →    |
| 平均延迟   | 29.20ms    | 75.73ms    | +46.53ms (+159.36%)  | ↓    |
| 平均速度   | 300.86MB/s | 116.07MB/s | -184.8MB/s (-61.42%) | ↓    |
| 成功操作数 | 15         | 15         | 0 (无变化)           | →    |

### 大文件传输测试

| 指标       | 旧存储     | 新存储     | 差异值/百分比         | 趋势 |
| ---------- | ---------- | ---------- | --------------------- | ---- |
| 成功率     | 100.00%    | 100.00%    | 0% (无变化)           | →    |
| 平均延迟   | 125.50ms   | 219.00ms   | +93.5ms (+74.5%)      | ↓    |
| 平均速度   | 825.77MB/s | 480.68MB/s | -345.08MB/s (-41.79%) | ↓    |
| 成功操作数 | 2          | 2          | 0 (无变化)            | →    |

### 连接稳定性测试

| 指标       | 旧存储    | 新存储    | 差异值/百分比       | 趋势 |
| ---------- | --------- | --------- | ------------------- | ---- |
| 成功率     | 100.00%   | 100.00%   | 0% (无变化)         | →    |
| 平均延迟   | 18.61ms   | 35.46ms   | +16.85ms (+90.55%)  | ↓    |
| 平均速度   | 75.74MB/s | 32.72MB/s | -43.02MB/s (-56.8%) | ↓    |
| 成功操作数 | 482       | 427       | -55 (-11.41%)       | ↓    |

------

## 关键发现

- **成功率**: 新旧存储均达到 100%，无差异。
- **性能下降**: 新存储（NFS）在所有测试类型中均表现较差： 平均延迟增加：74.5% ~ 188.69% 平均速度下降：41.79% ~ 71.9%
- **连接稳定性**: 新存储的成功操作数减少 11.41%，延迟增加 90.55%，速度下降 56.8%。

------

## 结论

新存储（NFS 挂载）相较于旧存储（本地磁盘）在性能上有显著退步，尤其在传输速度和响应延迟方面。建议进一步优化 NFS 配置或评估存储方案。

